{"primaryContentSections":[{"kind":"content","content":[{"level":2,"text":"Overview","anchor":"Overview","type":"heading"},{"inlineContent":[{"type":"text","text":"Publishing your Swift package to a registry makes it easily accessible to others and enables versioning and dependency management. This guide walks you through the process of preparing and publishing a package."}],"type":"paragraph"},{"level":2,"text":"Preparing Your Package","anchor":"Preparing-Your-Package","type":"heading"},{"inlineContent":[{"text":"Before publishing, ensure your package is properly configured:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Verify your Package.swift file has correct metadata:"}]},{"syntax":"swift","type":"codeListing","code":["\/\/ swift-tools-version: 5.7","import PackageDescription","","let package = Package(","    name: \"MyLibrary\",","    platforms: [.macOS(.v12), .iOS(.v15)],","    products: [","        .library(name: \"MyLibrary\", targets: [\"MyLibrary\"]),","    ],","    dependencies: [],","    targets: [","        .target(name: \"MyLibrary\"),","        .testTarget(name: \"MyLibraryTests\", dependencies: [\"MyLibrary\"]),","    ]",")"]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Make sure your version tags follow "},{"type":"reference","identifier":"https:\/\/semver.org\/","isActive":true},{"type":"text","text":" (e.g., "},{"type":"codeVoice","code":"1.0.0"},{"type":"text","text":", "},{"type":"codeVoice","code":"1.2.3"},{"type":"text","text":")"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Include a LICENSE file and README.md with clear documentation"}],"type":"paragraph"}]}],"type":"orderedList"},{"level":2,"text":"Publishing a New Version","anchor":"Publishing-a-New-Version","type":"heading"},{"inlineContent":[{"type":"text","text":"To publish a new version of your package:"}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ Create a zip archive of your package","let packageData = createPackageZipArchive() \/\/ Implementation depends on your tooling","","\/\/ Set the authentication token","let authToken = \"your-auth-token\" \/\/ See Authentication guide","let packageScope = \"mona\"","let packageName = \"MyLibrary\"","let version = \"1.0.0\"","","\/\/ Create publish URL","let publishURL = URL(string: \"https:\/\/registry.example.com\/\\(packageScope)\/\\(packageName)\/\\(version)\")!","var request = URLRequest(url: publishURL)","request.httpMethod = \"PUT\"","request.setValue(\"application\/octet-stream\", forHTTPHeaderField: \"Content-Type\")","request.setValue(\"Bearer \\(authToken)\", forHTTPHeaderField: \"Authorization\")","request.setValue(\"sha256=\\(calculateSHA256(packageData))\", forHTTPHeaderField: \"X-Swift-Package-Signature\")","","\/\/ Set the package data","request.httpBody = packageData","","\/\/ Send request","let (responseData, response) = try await URLSession.shared.data(for: request)","","\/\/ Check response status","if let httpResponse = response as? HTTPURLResponse, httpResponse.statusCode == 201 {","    print(\"Package version published successfully!\")","}"],"type":"codeListing"},{"anchor":"Handling-Responses","level":2,"text":"Handling Responses","type":"heading"},{"inlineContent":[{"type":"text","text":"The registry returns specific status codes:"}],"type":"paragraph"},{"rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Status Code"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Meaning"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"201","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Created - version published successfully"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"202"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Accepted - version queued for processing"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"409","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Conflict - version already exists","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"422","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Unprocessable - invalid package","type":"text"}]}]]],"header":"row","type":"table"},{"anchor":"Version-Management","level":2,"text":"Version Management","type":"heading"},{"inlineContent":[{"type":"text","text":"When publishing versions:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Once a version is published, it cannot be changed"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"You can publish new versions with increasing version numbers","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Follow semantic versioning guidelines for compatibility","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"Next Steps","anchor":"Next-Steps","type":"heading","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Explore endpoint details for more information on the publishing process","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn about managing package releases and metadata"}]}]}],"type":"unorderedList"}]}],"sections":[],"metadata":{"title":"Publishing Packages","roleHeading":"Article","role":"article","modules":[{"name":"Registry API"}]},"hierarchy":{"paths":[["doc:\/\/com.example.RegistryAPI\/documentation\/RegistryAPI"]]},"kind":"article","identifier":{"url":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Publishing","interfaceLanguage":"openapi"},"schemaVersion":{"major":0,"minor":3,"patch":0},"seeAlsoSections":[{"generated":true,"anchor":"Guides","title":"Guides","identifiers":["doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Authentication","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/ErrorCodes","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/RateLimiting","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Security","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Performance"]}],"abstract":[{"type":"text","text":"Learn how to publish your Swift packages to a package registry."}],"references":{"https://semver.org/":{"type":"link","title":"Semantic Versioning","titleInlineContent":[{"type":"text","text":"Semantic Versioning"}],"url":"https:\/\/semver.org\/","identifier":"https:\/\/semver.org\/"},"doc://com.example.RegistryAPI/documentation/Registry-API/RateLimiting":{"role":"article","url":"\/documentation\/registry-api\/ratelimiting","abstract":[{"type":"text","text":"Learn about the Swift Package Registryâ€™s rate limiting mechanisms and how to optimize your usage."}],"kind":"article","title":"Rate Limiting","type":"topic","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/RateLimiting"},"doc://com.example.RegistryAPI/documentation/Registry-API/Performance":{"title":"Performance Optimization","kind":"article","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Performance","url":"\/documentation\/registry-api\/performance","abstract":[{"type":"text","text":"Learn how to optimize your Swift Package Registry API usage for maximum performance."}],"type":"topic","role":"article"},"doc://com.example.RegistryAPI/documentation/Registry-API/Authentication":{"type":"topic","title":"Authentication","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Authentication","kind":"article","role":"article","url":"\/documentation\/registry-api\/authentication","abstract":[{"type":"text","text":"Learn how to authenticate with the Swift Package Registry API for accessing private packages and publishing."}]},"doc://com.example.RegistryAPI/documentation/Registry-API/Security":{"role":"article","type":"topic","abstract":[{"text":"Learn how to securely interact with the Swift Package Registry API.","type":"text"}],"url":"\/documentation\/registry-api\/security","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Security","kind":"article","title":"Security Best Practices"},"doc://com.example.RegistryAPI/documentation/Registry-API/ErrorCodes":{"abstract":[{"type":"text","text":"Understand how the Swift Package Registry API communicates errors and how to handle them."}],"kind":"article","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/ErrorCodes","url":"\/documentation\/registry-api\/errorcodes","title":"Error Codes","type":"topic","role":"article"},"doc://com.example.RegistryAPI/documentation/RegistryAPI":{"url":"\/documentation\/registryapi","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/RegistryAPI","title":"Registry API","kind":"symbol","role":"collection","abstract":[{"type":"text","text":"Interact with Swift packages through a standardized API for publishing, discovering, and retrieving packages."}],"type":"topic"}}}