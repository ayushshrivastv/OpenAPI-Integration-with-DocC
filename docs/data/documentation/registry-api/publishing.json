{"metadata":{"title":"Publishing Packages","role":"article","modules":[{"name":"RegistryAPI"}],"roleHeading":"Article"},"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","type":"heading","anchor":"Overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Publishing your Swift package to a registry makes it easily accessible to others and enables versioning and dependency management. This guide walks you through the process of preparing and publishing a package."}]},{"text":"Preparing Your Package","type":"heading","anchor":"Preparing-Your-Package","level":2},{"type":"paragraph","inlineContent":[{"text":"Before publishing, ensure your package is properly configured:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Verify your Package.swift file has correct metadata:"}]},{"type":"codeListing","code":["\/\/ swift-tools-version: 5.7","import PackageDescription","","let package = Package(","    name: \"MyLibrary\",","    platforms: [.macOS(.v12), .iOS(.v15)],","    products: [","        .library(name: \"MyLibrary\", targets: [\"MyLibrary\"]),","    ],","    dependencies: [],","    targets: [","        .target(name: \"MyLibrary\"),","        .testTarget(name: \"MyLibraryTests\", dependencies: [\"MyLibrary\"]),","    ]",")"],"syntax":"swift"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Make sure your version tags follow ","type":"text"},{"identifier":"https:\/\/semver.org\/","isActive":true,"type":"reference"},{"text":" (e.g., ","type":"text"},{"code":"1.0.0","type":"codeVoice"},{"text":", ","type":"text"},{"code":"1.2.3","type":"codeVoice"},{"text":")","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Include a LICENSE file and README.md with clear documentation","type":"text"}],"type":"paragraph"}]}],"type":"orderedList"},{"text":"Publishing a New Version","type":"heading","anchor":"Publishing-a-New-Version","level":2},{"type":"paragraph","inlineContent":[{"text":"To publish a new version of your package:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["\/\/ Create a zip archive of your package","let packageData = createPackageZipArchive() \/\/ Implementation depends on your tooling","","\/\/ Set the authentication token","let authToken = \"your-auth-token\" \/\/ See Authentication guide","let packageScope = \"mona\"","let packageName = \"MyLibrary\"","let version = \"1.0.0\"","","\/\/ Create publish URL","let publishURL = URL(string: \"https:\/\/registry.example.com\/\\(packageScope)\/\\(packageName)\/\\(version)\")!","var request = URLRequest(url: publishURL)","request.httpMethod = \"PUT\"","request.setValue(\"application\/octet-stream\", forHTTPHeaderField: \"Content-Type\")","request.setValue(\"Bearer \\(authToken)\", forHTTPHeaderField: \"Authorization\")","request.setValue(\"sha256=\\(calculateSHA256(packageData))\", forHTTPHeaderField: \"X-Swift-Package-Signature\")","","\/\/ Set the package data","request.httpBody = packageData","","\/\/ Send request","let (responseData, response) = try await URLSession.shared.data(for: request)","","\/\/ Check response status","if let httpResponse = response as? HTTPURLResponse, httpResponse.statusCode == 201 {","    print(\"Package version published successfully!\")","}"]},{"text":"Handling Responses","type":"heading","anchor":"Handling-Responses","level":2},{"type":"paragraph","inlineContent":[{"text":"The registry returns specific status codes:","type":"text"}]},{"type":"table","header":"row","rows":[[[{"inlineContent":[{"type":"text","text":"Status Code"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Meaning"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"201","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Created - version published successfully","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"202","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Accepted - version queued for processing","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"409","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Conflict - version already exists"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"422"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Unprocessable - invalid package","type":"text"}],"type":"paragraph"}]]]},{"text":"Version Management","type":"heading","anchor":"Version-Management","level":2},{"type":"paragraph","inlineContent":[{"text":"When publishing versions:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Once a version is published, it cannot be changed","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"You can publish new versions with increasing version numbers","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Follow semantic versioning guidelines for compatibility"}]}]}],"type":"unorderedList"},{"text":"Next Steps","type":"heading","anchor":"Next-Steps","level":2},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Explore endpoint details for more information on the publishing process"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Learn about managing package releases and metadata","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"kind":"article","identifier":{"url":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Publishing","interfaceLanguage":"openapi"},"abstract":[{"text":"Learn how to publish your Swift packages to a package registry.","type":"text"}],"hierarchy":{"paths":[["doc:\/\/com.example.RegistryAPI\/documentation\/RegistryAPI"]]},"schemaVersion":{"patch":0,"major":0,"minor":3},"seeAlsoSections":[{"identifiers":["doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/GettingStarted","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Authentication"],"title":"Getting Started","generated":true,"anchor":"Getting-Started"}],"sections":[],"references":{"doc://com.example.RegistryAPI/documentation/RegistryAPI":{"title":"RegistryAPI","kind":"symbol","url":"\/documentation\/registryapi","abstract":[{"text":"Interact with Swift packages through a standardized API for publishing, discovering, and retrieving packages.","type":"text"}],"identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/RegistryAPI","type":"topic","role":"collection"},"https://semver.org/":{"title":"Semantic Versioning","type":"link","url":"https:\/\/semver.org\/","titleInlineContent":[{"type":"text","text":"Semantic Versioning"}],"identifier":"https:\/\/semver.org\/"},"doc://com.example.RegistryAPI/documentation/Registry-API/GettingStarted":{"url":"\/documentation\/registry-api\/gettingstarted","abstract":[{"text":"Learn how to use the Swift Package Registry API to discover and retrieve packages.","type":"text"}],"identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/GettingStarted","kind":"article","type":"topic","title":"Getting Started with Swift Package Registry","role":"article"},"doc://com.example.RegistryAPI/documentation/Registry-API/Authentication":{"type":"topic","role":"article","abstract":[{"text":"Learn how to authenticate with the Swift Package Registry API for accessing private packages and publishing.","type":"text"}],"title":"Authentication","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Authentication","url":"\/documentation\/registry-api\/authentication","kind":"article"}}}