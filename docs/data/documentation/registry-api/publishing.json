{"sections":[],"abstract":[{"text":"Learn how to publish your Swift packages to a package registry.","type":"text"}],"metadata":{"title":"Publishing Packages","modules":[{"name":"Registry API"}],"roleHeading":"Article","role":"article"},"schemaVersion":{"minor":3,"patch":0,"major":0},"seeAlsoSections":[{"title":"Guides","anchor":"Guides","generated":true,"identifiers":["doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Authentication","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/ErrorCodes","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/RateLimiting","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Security","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Performance"]}],"identifier":{"url":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Publishing","interfaceLanguage":"openapi"},"kind":"article","primaryContentSections":[{"content":[{"level":2,"anchor":"Overview","text":"Overview","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Publishing your Swift package to a registry makes it easily accessible to others and enables versioning and dependency management. This guide walks you through the process of preparing and publishing a package."}]},{"level":2,"anchor":"Preparing-Your-Package","text":"Preparing Your Package","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Before publishing, ensure your package is properly configured:"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Verify your Package.swift file has correct metadata:"}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ swift-tools-version: 5.7","import PackageDescription","","let package = Package(","    name: \"MyLibrary\",","    platforms: [.macOS(.v12), .iOS(.v15)],","    products: [","        .library(name: \"MyLibrary\", targets: [\"MyLibrary\"]),","    ],","    dependencies: [],","    targets: [","        .target(name: \"MyLibrary\"),","        .testTarget(name: \"MyLibraryTests\", dependencies: [\"MyLibrary\"]),","    ]",")"],"type":"codeListing"}]},{"content":[{"inlineContent":[{"type":"text","text":"Make sure your version tags follow "},{"isActive":true,"type":"reference","identifier":"https:\/\/semver.org\/"},{"type":"text","text":" (e.g., "},{"type":"codeVoice","code":"1.0.0"},{"type":"text","text":", "},{"type":"codeVoice","code":"1.2.3"},{"type":"text","text":")"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Include a LICENSE file and README.md with clear documentation","type":"text"}]}]}],"type":"orderedList"},{"level":2,"anchor":"Publishing-a-New-Version","text":"Publishing a New Version","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To publish a new version of your package:"}]},{"syntax":"swift","type":"codeListing","code":["\/\/ Create a zip archive of your package","let packageData = createPackageZipArchive() \/\/ Implementation depends on your tooling","","\/\/ Set the authentication token","let authToken = \"your-auth-token\" \/\/ See Authentication guide","let packageScope = \"mona\"","let packageName = \"MyLibrary\"","let version = \"1.0.0\"","","\/\/ Create publish URL","let publishURL = URL(string: \"https:\/\/registry.example.com\/\\(packageScope)\/\\(packageName)\/\\(version)\")!","var request = URLRequest(url: publishURL)","request.httpMethod = \"PUT\"","request.setValue(\"application\/octet-stream\", forHTTPHeaderField: \"Content-Type\")","request.setValue(\"Bearer \\(authToken)\", forHTTPHeaderField: \"Authorization\")","request.setValue(\"sha256=\\(calculateSHA256(packageData))\", forHTTPHeaderField: \"X-Swift-Package-Signature\")","","\/\/ Set the package data","request.httpBody = packageData","","\/\/ Send request","let (responseData, response) = try await URLSession.shared.data(for: request)","","\/\/ Check response status","if let httpResponse = response as? HTTPURLResponse, httpResponse.statusCode == 201 {","    print(\"Package version published successfully!\")","}"]},{"level":2,"anchor":"Handling-Responses","text":"Handling Responses","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"The registry returns specific status codes:","type":"text"}]},{"rows":[[[{"inlineContent":[{"text":"Status Code","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Meaning","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"201","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Created - version published successfully"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"202"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Accepted - version queued for processing"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"409","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Conflict - version already exists","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"422","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Unprocessable - invalid package","type":"text"}],"type":"paragraph"}]]],"type":"table","header":"row"},{"level":2,"anchor":"Version-Management","text":"Version Management","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When publishing versions:"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Once a version is published, it cannot be changed"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"You can publish new versions with increasing version numbers","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Follow semantic versioning guidelines for compatibility"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":2,"anchor":"Next-Steps","text":"Next Steps","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Explore endpoint details for more information on the publishing process","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn about managing package releases and metadata"}]}]}],"type":"unorderedList"}],"kind":"content"}],"hierarchy":{"paths":[["doc:\/\/com.example.RegistryAPI\/documentation\/RegistryAPI"]]},"references":{"doc://com.example.RegistryAPI/documentation/Registry-API/ErrorCodes":{"kind":"article","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/ErrorCodes","url":"\/documentation\/registry-api\/errorcodes","abstract":[{"text":"Understand how the Swift Package Registry API communicates errors and how to handle them.","type":"text"}],"type":"topic","title":"Error Codes","role":"article"},"doc://com.example.RegistryAPI/documentation/Registry-API/Performance":{"url":"\/documentation\/registry-api\/performance","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Performance","type":"topic","kind":"article","title":"Performance Optimization","abstract":[{"type":"text","text":"Learn how to optimize your Swift Package Registry API usage for maximum performance."}],"role":"article"},"doc://com.example.RegistryAPI/documentation/Registry-API/Security":{"kind":"article","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Security","url":"\/documentation\/registry-api\/security","abstract":[{"text":"Learn how to securely interact with the Swift Package Registry API.","type":"text"}],"type":"topic","title":"Security Best Practices","role":"article"},"doc://com.example.RegistryAPI/documentation/Registry-API/Authentication":{"url":"\/documentation\/registry-api\/authentication","abstract":[{"type":"text","text":"Learn how to authenticate with the Swift Package Registry API for accessing private packages and publishing."}],"type":"topic","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Authentication","title":"Authentication","role":"article","kind":"article"},"doc://com.example.RegistryAPI/documentation/Registry-API/RateLimiting":{"role":"article","title":"Rate Limiting","abstract":[{"type":"text","text":"Learn about the Swift Package Registryâ€™s rate limiting mechanisms and how to optimize your usage."}],"type":"topic","kind":"article","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/RateLimiting","url":"\/documentation\/registry-api\/ratelimiting"},"doc://com.example.RegistryAPI/documentation/RegistryAPI":{"identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/RegistryAPI","abstract":[{"type":"text","text":"Interact with Swift packages through a standardized API for publishing, discovering, and retrieving packages."}],"role":"collection","kind":"symbol","type":"topic","title":"Registry API","url":"\/documentation\/registryapi"},"https://semver.org/":{"titleInlineContent":[{"type":"text","text":"Semantic Versioning"}],"identifier":"https:\/\/semver.org\/","type":"link","url":"https:\/\/semver.org\/","title":"Semantic Versioning"}}}