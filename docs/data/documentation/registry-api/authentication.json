{"primaryContentSections":[{"kind":"content","content":[{"level":2,"text":"Overview","type":"heading","anchor":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The Swift Package Registry API uses token-based authentication to secure access to private packages and privileged operations like publishing. This guide explains how to authenticate your requests."}]},{"level":2,"text":"Obtaining an Authentication Token","type":"heading","anchor":"Obtaining-an-Authentication-Token"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To get an authentication token, youâ€™ll typically use the login endpoint:"}]},{"syntax":"swift","code":["\/\/ Create login request","let loginURL = URL(string: \"https:\/\/registry.example.com\/login\")!","var request = URLRequest(url: loginURL)","request.httpMethod = \"POST\"","request.setValue(\"application\/json\", forHTTPHeaderField: \"Content-Type\")","","\/\/ Set credentials - implementation depends on registry provider","let credentials = [\"username\": \"your-username\", \"password\": \"your-password\"]","request.httpBody = try JSONEncoder().encode(credentials)","","\/\/ Send request","let (data, response) = try await URLSession.shared.data(for: request)","","\/\/ Parse token from response","let tokenResponse = try JSONDecoder().decode(TokenResponse.self, from: data)","let authToken = tokenResponse.token"],"type":"codeListing"},{"level":2,"text":"Using Authentication Tokens","type":"heading","anchor":"Using-Authentication-Tokens"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Once you have a token, include it in your request headers:"}]},{"syntax":"swift","code":["\/\/ Create authenticated request","let packageURL = URL(string: \"https:\/\/registry.example.com\/mona\/LinkedList\/1.1.1\")!","var request = URLRequest(url: packageURL)","","\/\/ Add the authorization header","request.setValue(\"Bearer \\(authToken)\", forHTTPHeaderField: \"Authorization\")","","\/\/ Send request","let (data, response) = try await URLSession.shared.data(for: request)"],"type":"codeListing"},{"level":2,"text":"Token Management","type":"heading","anchor":"Token-Management"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Authentication tokens typically have an expiration period. You should:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Store tokens securely (e.g., in the keychain on Apple platforms)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Handle token refresh when tokens expire","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Never expose tokens in client-side code for public applications"}],"type":"paragraph"}]}],"type":"orderedList"},{"type":"heading","anchor":"Authentication-for-Different-Operations","level":2,"text":"Authentication for Different Operations"},{"type":"paragraph","inlineContent":[{"text":"Different operations may require different scopes or permissions:","type":"text"}]},{"type":"table","rows":[[[{"inlineContent":[{"text":"Operation","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Required Permissions","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Read public packages"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"None (anonymous access)"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Read private packages"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"read"},{"text":" scope","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Publish packages"}],"type":"paragraph"}],[{"inlineContent":[{"code":"write","type":"codeVoice"},{"text":" scope","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Manage organization"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"admin"},{"type":"text","text":" scope"}],"type":"paragraph"}]]],"header":"row"},{"type":"heading","anchor":"Next-Steps","level":2,"text":"Next Steps"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn how to "},{"identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Publishing","type":"reference","isActive":true},{"type":"text","text":" packages to the registry"}]}]},{"content":[{"inlineContent":[{"text":"Review specific endpoint documentation for authorization requirements","type":"text"}],"type":"paragraph"}]}]}]}],"identifier":{"url":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Authentication","interfaceLanguage":"openapi"},"kind":"article","metadata":{"modules":[{"name":"RegistryAPI"}],"role":"article","title":"Authentication","roleHeading":"Article"},"schemaVersion":{"major":0,"patch":0,"minor":3},"sections":[],"abstract":[{"text":"Learn how to authenticate with the Swift Package Registry API for accessing private packages and publishing.","type":"text"}],"seeAlsoSections":[{"title":"Getting Started","generated":true,"anchor":"Getting-Started","identifiers":["doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/GettingStarted","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Publishing"]}],"hierarchy":{"paths":[["doc:\/\/com.example.RegistryAPI\/documentation\/RegistryAPI"]]},"references":{"doc://com.example.RegistryAPI/documentation/Registry-API/GettingStarted":{"url":"\/documentation\/registry-api\/gettingstarted","abstract":[{"text":"Learn how to use the Swift Package Registry API to discover and retrieve packages.","type":"text"}],"identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/GettingStarted","kind":"article","type":"topic","title":"Getting Started with Swift Package Registry","role":"article"},"doc://com.example.RegistryAPI/documentation/Registry-API/Publishing":{"kind":"article","url":"\/documentation\/registry-api\/publishing","role":"article","title":"Publishing Packages","type":"topic","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Publishing","abstract":[{"text":"Learn how to publish your Swift packages to a package registry.","type":"text"}]},"doc://com.example.RegistryAPI/documentation/RegistryAPI":{"title":"RegistryAPI","kind":"symbol","url":"\/documentation\/registryapi","abstract":[{"text":"Interact with Swift packages through a standardized API for publishing, discovering, and retrieving packages.","type":"text"}],"identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/RegistryAPI","type":"topic","role":"collection"}}}