{"schemaVersion":{"major":0,"patch":0,"minor":3},"seeAlsoSections":[{"anchor":"Guides","identifiers":["doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Publishing","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/ErrorCodes","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/RateLimiting","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Security","doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Performance"],"generated":true,"title":"Guides"}],"kind":"article","primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","text":"Overview","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"The Swift Package Registry API uses token-based authentication to secure access to private packages and privileged operations like publishing. This guide explains how to authenticate your requests."}]},{"anchor":"Obtaining-an-Authentication-Token","text":"Obtaining an Authentication Token","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"text":"To get an authentication token, you’ll typically use the login endpoint:","type":"text"}]},{"syntax":"swift","code":["\/\/ Create login request","let loginURL = URL(string: \"https:\/\/registry.example.com\/login\")!","var request = URLRequest(url: loginURL)","request.httpMethod = \"POST\"","request.setValue(\"application\/json\", forHTTPHeaderField: \"Content-Type\")","","\/\/ Set credentials - implementation depends on registry provider","let credentials = [\"username\": \"your-username\", \"password\": \"your-password\"]","request.httpBody = try JSONEncoder().encode(credentials)","","\/\/ Send request","let (data, response) = try await URLSession.shared.data(for: request)","","\/\/ Parse token from response","let tokenResponse = try JSONDecoder().decode(TokenResponse.self, from: data)","let authToken = tokenResponse.token"],"type":"codeListing"},{"anchor":"Using-Authentication-Tokens","text":"Using Authentication Tokens","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Once you have a token, include it in your request headers:"}]},{"syntax":"swift","code":["\/\/ Create authenticated request","let packageURL = URL(string: \"https:\/\/registry.example.com\/mona\/LinkedList\/1.1.1\")!","var request = URLRequest(url: packageURL)","","\/\/ Add the authorization header","request.setValue(\"Bearer \\(authToken)\", forHTTPHeaderField: \"Authorization\")","","\/\/ Send request","let (data, response) = try await URLSession.shared.data(for: request)"],"type":"codeListing"},{"anchor":"Token-Management","text":"Token Management","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Authentication tokens typically have an expiration period. You should:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Store tokens securely (e.g., in the keychain on Apple platforms)","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Handle token refresh when tokens expire"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Never expose tokens in client-side code for public applications"}]}]}],"type":"orderedList"},{"anchor":"Authentication-for-Different-Operations","text":"Authentication for Different Operations","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"text":"Different operations may require different scopes or permissions:","type":"text"}]},{"rows":[[[{"type":"paragraph","inlineContent":[{"text":"Operation","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Required Permissions","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Read public packages","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"None (anonymous access)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Read private packages"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"read"},{"type":"text","text":" scope"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Publish packages"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"write"},{"type":"text","text":" scope"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Manage organization","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"code":"admin","type":"codeVoice"},{"text":" scope","type":"text"}]}]]],"type":"table","header":"row"},{"type":"heading","text":"Next Steps","level":2,"anchor":"Next-Steps"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Learn how to ","type":"text"},{"identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Publishing","isActive":true,"type":"reference"},{"text":" packages to the registry","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Review specific endpoint documentation for authorization requirements"}]}]}]}]}],"sections":[],"hierarchy":{"paths":[["doc:\/\/com.example.RegistryAPI\/documentation\/RegistryAPI"]]},"metadata":{"title":"Authentication","role":"article","modules":[{"name":"Registry API"}],"roleHeading":"Article"},"identifier":{"interfaceLanguage":"openapi","url":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Authentication"},"abstract":[{"text":"Learn how to authenticate with the Swift Package Registry API for accessing private packages and publishing.","type":"text"}],"references":{"doc://com.example.RegistryAPI/documentation/Registry-API/RateLimiting":{"role":"article","url":"\/documentation\/registry-api\/ratelimiting","abstract":[{"type":"text","text":"Learn about the Swift Package Registry’s rate limiting mechanisms and how to optimize your usage."}],"kind":"article","title":"Rate Limiting","type":"topic","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/RateLimiting"},"doc://com.example.RegistryAPI/documentation/Registry-API/Publishing":{"title":"Publishing Packages","type":"topic","kind":"article","abstract":[{"text":"Learn how to publish your Swift packages to a package registry.","type":"text"}],"identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Publishing","role":"article","url":"\/documentation\/registry-api\/publishing"},"doc://com.example.RegistryAPI/documentation/Registry-API/Performance":{"title":"Performance Optimization","kind":"article","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Performance","url":"\/documentation\/registry-api\/performance","abstract":[{"type":"text","text":"Learn how to optimize your Swift Package Registry API usage for maximum performance."}],"type":"topic","role":"article"},"doc://com.example.RegistryAPI/documentation/Registry-API/Security":{"role":"article","type":"topic","abstract":[{"text":"Learn how to securely interact with the Swift Package Registry API.","type":"text"}],"url":"\/documentation\/registry-api\/security","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/Security","kind":"article","title":"Security Best Practices"},"doc://com.example.RegistryAPI/documentation/RegistryAPI":{"url":"\/documentation\/registryapi","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/RegistryAPI","title":"Registry API","kind":"symbol","role":"collection","abstract":[{"type":"text","text":"Interact with Swift packages through a standardized API for publishing, discovering, and retrieving packages."}],"type":"topic"},"doc://com.example.RegistryAPI/documentation/Registry-API/ErrorCodes":{"abstract":[{"type":"text","text":"Understand how the Swift Package Registry API communicates errors and how to handle them."}],"kind":"article","identifier":"doc:\/\/com.example.RegistryAPI\/documentation\/Registry-API\/ErrorCodes","url":"\/documentation\/registry-api\/errorcodes","title":"Error Codes","type":"topic","role":"article"}}}